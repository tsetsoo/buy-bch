{"version":3,"sources":["api/buy-bch.api.js","components/intl-wrapper/intl-wrapper.component.jsx","components/header/header.component.jsx","assets/assets_images_poype-logo-light.png","components/custom-button/custom-button.component.jsx","components/form-input/form-input.component.jsx","components/qr-scanner/qr-scanner.component.jsx","components/spinner/spinner.component.jsx","components/form-container/form-container.component.jsx","components/new-order/new-order.component.jsx","assets/qrCode.png","util/util.js","components/payment-pending/payment-pending.component.jsx","components/phone-verification/phone-verification.component.jsx","components/photo-verification/photo-verification.component.jsx","App.js","reportWebVitals.js","index.js"],"names":["backendUrl","process","getRate","bgnAmount","a","axios","get","response","data","errorId","getOrder","orderId","newOrder","bchAddress","email","post","bgn_amount","bch_addr","order","errorIdFromErrorForStatus","verifyPhone","phone","verifyPhoneCode","secretCode","secret_code","verifyPhoto","photo","photoUrl","headers","type","err","statusCode","customErrorId","status","Context","React","createContext","messagesFromLocal","locale","test","Bulgarian","English","currentLocale","navigator","language","IntlWrapper","props","useState","setLocale","messages","setMessages","Provider","value","selectLanguage","newLocale","children","options","bg","label","en","Header","context","useContext","currentLanguage","setCurrentLanguage","intl","useIntl","className","href","alt","src","formatMessage","id","onClick","toggleLanguage","CustomButton","otherProps","FormInput","handleChange","shrink","containerClasses","onChange","length","QrScanner","setBchState","setBchAddress","errorMessage","setErrorMessage","setBchAddressAndReturn","e","preventDefault","showQr","color","delay","onError","error","onScan","style","margin","Spinner","FormContainer","WrappedForm","loading","setLoading","amount","setOrder","bgn","setBgn","setEmail","bchState","bch","setBch","didMount","useRef","useEffect","current","timeOutId","setTimeout","bchAmount","clearTimeout","handleSubmit","event","localStorage","setItem","checkbox","name","textId","urlToRender","required","url","onSubmit","target","step","max","min","toString","readOnly","resetOrder","clear","window","location","reload","secondaryButtonClick","confirmText","confirm","PaymentPending","paymentUrl","useReducer","x","forceUpdate","open","getItem","setPhone","validationCode","setValidationCode","codeSent","setCodeSent","storedPhone","removeItem","photoSuffix","declarationFormUrl","setPhoto","key","setKey","files","img","accept","URL","createObjectURL","App","retrievedOrder","fetchOrder","renderSwitch","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c708571c.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst backendUrl = process.env.REACT_APP_BACKEND_URL;\n\nexport const getRate = async (bgnAmount) => {\n  try {\n    const response = await axios.get(\n      `${backendUrl}/rate/bchbgn?amount_bgn=${bgnAmount}`\n    );\n    return response.data[\"amount_bch\"];\n  } catch (err) {\n    return { errorId: \"bchapi.error.general\" };\n  }\n};\n\nexport const getOrder = async (orderId) => {\n  try {\n    const response = await axios.get(`${backendUrl}/order/${orderId}`);\n    return response.data;\n  } catch (err) {\n    return { errorId: \"bchapi.error.general\" };\n  }\n};\n\nexport const newOrder = async (bgnAmount, bchAddress, email) => {\n  try {\n    const response = await axios.post(`${backendUrl}/order`, {\n      bgn_amount: bgnAmount,\n      bch_addr: bchAddress,\n      email,\n    });\n    return { order: response.data };\n  } catch (err) {\n    return errorIdFromErrorForStatus(err, 503, \"bchapi.error.notEnoughBch\");\n  }\n};\n\nexport const verifyPhone = async (orderId, phone) => {\n  try {\n    await axios.post(`${backendUrl}/order/${orderId}/id/phone`, {\n      phone,\n    });\n  } catch (err) {\n    return errorIdFromErrorForStatus(err, 400, \"bchapi.error.phoneNumber\");\n  }\n};\n\nexport const verifyPhoneCode = async (orderId, phone, secretCode) => {\n  try {\n    const response = await axios.post(\n      `${backendUrl}/order/${orderId}/id/phone`,\n      {\n        phone,\n        secret_code: secretCode,\n      }\n    );\n    return { order: response.data };\n  } catch (err) {\n    return errorIdFromErrorForStatus(err, 403, \"bchapi.error.validationCode\");\n  }\n};\n\nexport const verifyPhoto = async (orderId, photo, photoUrl) => {\n  try {\n    const response = await axios.post(\n      `${backendUrl}/order/${orderId}/id/${photoUrl}`,\n      photo,\n      {\n        headers: {\n          \"Content-Type\": photo.type,\n        },\n      }\n    );\n    return { order: response.data };\n  } catch (err) {\n    return errorIdFromErrorForStatus(err, 400, \"bchapi.error.photoFormat\");\n  }\n};\n\nconst errorIdFromErrorForStatus = (err, statusCode, customErrorId) => {\n  let errorId;\n  if (err.response && err.response.status === statusCode) {\n    errorId = customErrorId;\n  } else {\n    errorId = \"bchapi.error.general\";\n  }\n  return { errorId };\n};\n","import React, { useState } from \"react\";\nimport { IntlProvider } from \"react-intl\";\nimport Bulgarian from \"../../lang/bg.json\";\nimport English from \"../../lang/en.json\";\n\nexport const Context = React.createContext();\n\nconst messagesFromLocal = (locale) => {\n  return /^bg\\b/.test(locale) ? Bulgarian : English;\n};\n\nconst currentLocale = navigator.language;\n\nconst IntlWrapper = (props) => {\n  const [locale, setLocale] = useState(currentLocale);\n  const [messages, setMessages] = useState(messagesFromLocal(currentLocale));\n\n  function selectLanguage(newLocale) {\n    setLocale(newLocale);\n    setMessages(messagesFromLocal(newLocale));\n  }\n\n  return (\n    <Context.Provider value={{ locale, selectLanguage }}>\n      <IntlProvider messages={messages} locale={locale}>\n        {props.children}\n      </IntlProvider>\n    </Context.Provider>\n  );\n};\n\nexport default IntlWrapper;\n","import React, { useContext, useState } from \"react\";\n\nimport logo from \"../../assets/assets_images_poype-logo-light.png\";\nimport { Context } from \"../intl-wrapper/intl-wrapper.component\";\n\nimport { useIntl } from \"react-intl\";\n\nimport \"./header.styles.scss\";\n\nconst options = {\n  bg: { value: \"bg-BG\", label: \"БГ\" },\n  en: { value: \"en\", label: \"EN\" },\n};\n\nconst Header = () => {\n  const setInitialState = () => {\n    return /^bg\\b/.test(context.locale) ? options[\"bg\"] : options[\"en\"];\n  };\n  const context = useContext(Context);\n  const [currentLanguage, setCurrentLanguage] = useState(setInitialState());\n\n  const intl = useIntl();\n\n  const toggleLanguage = () => {\n    const language =\n      currentLanguage.label === options[\"bg\"].label ? \"en\" : \"bg\";\n\n    setCurrentLanguage(options[language]);\n    context.selectLanguage(options[language].value);\n  };\n\n  return (\n    <div className=\"header-container\">\n      <a href=\"https://www.poype.io/\">\n        <img alt=\"Poype Logo\" className=\"brand-logo\" src={logo} />\n      </a>\n      <div className=\"powered-text\">\n        {intl.formatMessage({ id: \"header.heading\" })}\n      </div>\n      <div className=\"language\" onClick={() => toggleLanguage()}>\n        {currentLanguage.label}\n      </div>\n    </div>\n  );\n};\n\nexport default Header;\n","export default \"data:image/png;base64,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\"","import React from \"react\";\n\nimport \"./custom-buttom.styles.scss\";\n\nconst CustomButton = ({ children, className, ...otherProps }) => (\n  <button className={className ? className : \"custom-button\"} {...otherProps}>\n    {children}\n  </button>\n);\n\nexport default CustomButton;\n","import React from \"react\";\n\nimport \"./form-input.styles.scss\";\n\nconst FormInput = ({\n  handleChange,\n  label,\n  shrink,\n  children,\n  containerClasses,\n  ...otherProps\n}) => (\n  <div className={`${containerClasses ? containerClasses : \"\"} group`}>\n    <input className=\"form-input\" onChange={handleChange} {...otherProps} />\n    {label ? (\n      <label\n        className={`${\n          otherProps.value.length ? \"shrink\" : \"\"\n        } form-input-label`}\n      >\n        {label}\n      </label>\n    ) : null}\n    {children}\n  </div>\n);\n\nexport default FormInput;\n","import React, { useState } from \"react\";\n\nimport CustomButton from \"../custom-button/custom-button.component\";\n\nimport { useIntl } from \"react-intl\";\nimport QrReader from \"react-qr-reader\";\n\nimport \"../form.styles.scss\";\n\nfunction QrScanner({ setBchState }) {\n  const [bchAddress, setBchAddress] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const intl = useIntl();\n\n  const setBchAddressAndReturn = (e) => {\n    e.preventDefault();\n    setBchState({ bchAddress: bchAddress ? bchAddress : \"\", showQr: false });\n  };\n\n  return (\n    <div className=\"form-container\">\n      {bchAddress ? (\n        <div>\n          <p>{intl.formatMessage({ id: \"qrScanner.confirmationMessage\" })}</p>\n          <p>{bchAddress}</p>\n          <div className=\"buttons\">\n            <CustomButton\n              color=\"custom-button-green\"\n              onClick={setBchAddressAndReturn}\n            >\n              {intl.formatMessage({ id: \"qrScanner.submit\" })}\n            </CustomButton>\n            <CustomButton\n              color=\"red\"\n              onClick={(e) => {\n                e.preventDefault();\n                setBchAddress(\"\");\n              }}\n            >\n              {intl.formatMessage({ id: \"qrScanner.scanAgain\" })}\n            </CustomButton>\n          </div>\n        </div>\n      ) : (\n        <div>\n          <QrReader\n            delay={300}\n            onError={(error) => setErrorMessage(error)}\n            onScan={(data) => setBchAddress(data)}\n            style={{ margin: \"10px 0px\" }}\n          />\n          <CustomButton\n            color=\"custom-button-red\"\n            onClick={setBchAddressAndReturn}\n          >\n            {intl.formatMessage({ id: \"qrScanner.back\" })}\n          </CustomButton>\n        </div>\n      )}\n      {errorMessage ? <p className=\"error-message\">{errorMessage}</p> : null}\n    </div>\n  );\n}\n\nexport default QrScanner;\n","import React from \"react\";\n\nimport \"./spinner.styles.scss\";\n\nconst Spinner = () => (\n  <div className=\"spinner-overlay\">\n    <div className=\"spinner-container\" />\n  </div>\n);\n\nexport default Spinner;\n","import React, { useState } from \"react\";\n\nimport Spinner from \"../spinner/spinner.component\";\n\nimport { useIntl } from \"react-intl\";\n\nimport \"./form-container.styles.scss\";\n\nconst FormContainer = (WrappedForm) =>\n  function Wrapper({ children, ...props }) {\n    const [errorMessage, setErrorMessage] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    const intl = useIntl();\n\n    if (loading) {\n      return <Spinner />;\n    }\n\n    return (\n      <div className=\"form-container\">\n        {props.bgnAmount ? (\n          <p className=\"current-order-text\">\n            {intl.formatMessage(\n              { id: \"currentOrder.amount\" },\n              { amount: props.bgnAmount }\n            )}\n          </p>\n        ) : null}\n        <WrappedForm\n          setErrorMessage={(errorId) => {\n            errorId\n              ? setErrorMessage(intl.formatMessage({ id: errorId }))\n              : setErrorMessage(\"\");\n          }}\n          setLoading={setLoading}\n          {...props}\n        >\n          {children}\n        </WrappedForm>\n        {errorMessage ? <p className=\"error-message\">{errorMessage}</p> : null}\n      </div>\n    );\n  };\nexport default FormContainer;\n","import React, { useEffect, useState, useRef } from \"react\";\n\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport QrScanner from \"../qr-scanner/qr-scanner.component\";\nimport FormContainer from \"../form-container/form-container.component\";\n\nimport { newOrder, getRate } from \"../../api/buy-bch.api\";\n\nimport { useIntl } from \"react-intl\";\n\nimport qrCode from \"../../assets/qrCode.png\";\n\nimport \"../form.styles.scss\";\nimport \"./new-order.styles.scss\";\n\nfunction NewOrder({ setOrder, setErrorMessage, setLoading }) {\n  const [bgn, setBgn] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [bchState, setBchState] = useState({\n    bchAddress: \"\",\n    showQr: false,\n  });\n  const [bch, setBch] = useState(\"\");\n\n  const didMount = useRef(false);\n\n  const intl = useIntl();\n\n  useEffect(() => {\n    if (didMount.current) {\n      const timeOutId = setTimeout(async () => {\n        const bchAmount = await getRate(bgn);\n        setBch(bchAmount);\n      }, 1000);\n      return () => clearTimeout(timeOutId);\n    } else {\n      didMount.current = true;\n    }\n  }, [bgn]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setLoading(true);\n    const response = await newOrder(bgn, bchState.bchAddress, email);\n    setLoading(false);\n    if (response.order) {\n      localStorage.setItem(\"orderId\", response.order.id);\n      setOrder(response.order);\n    } else if (response.errorId) {\n      setErrorMessage(response.errorId);\n    }\n  };\n\n  const handleChangeEmail = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handleChangeBchAddress = (event) => {\n    setBchState({ ...bchState, bchAddress: event.target.value });\n  };\n\n  const handleChangeBgn = (event) => {\n    setBgn(event.target.value);\n  };\n\n  if (bchState.showQr) {\n    return <QrScanner setBchState={setBchState} />;\n  }\n\n  const checkbox = (name, textId, urlToRender) => {\n    return (\n      <div className=\"group checkbox\">\n        <input type=\"checkbox\" required name={name} />\n        <label>\n          {intl.formatMessage(\n            {\n              id: textId,\n            },\n            {\n              a: (url) => <a href={urlToRender}>{url}</a>,\n            }\n          )}\n        </label>\n      </div>\n    );\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"email\"\n          type=\"email\"\n          handleChange={handleChangeEmail}\n          value={email}\n          label={intl.formatMessage({ id: \"order.email\" })}\n          required\n        />\n        <FormInput\n          name=\"bchAddress\"\n          type=\"bchAddress\"\n          handleChange={handleChangeBchAddress}\n          value={bchState.bchAddress}\n          label={intl.formatMessage({ id: \"order.bchAddress\" })}\n          required\n          containerClasses=\"qrCodeContainer\"\n          children={\n            <img\n              alt=\"Scan QR Code\"\n              src={qrCode}\n              onClick={(e) => {\n                e.preventDefault();\n                setBchState({ ...bchState, showQr: true });\n              }}\n            ></img>\n          }\n        />\n\n        <FormInput\n          name=\"bgn\"\n          type=\"number\"\n          step=\"any\"\n          handleChange={handleChangeBgn}\n          value={bgn}\n          label={intl.formatMessage({ id: \"order.bgnAmount\" })}\n          required\n          max={process.env.REACT_APP_MAX_BGN_AMOUNT}\n          min={process.env.REACT_APP_MIN_BGN_AMOUNT}\n        />\n        <FormInput\n          name=\"bch\"\n          type=\"text\"\n          value={bch ? bch.toString() : \"\"}\n          label={intl.formatMessage({ id: \"order.bchAmount\" })}\n          readOnly\n        />\n        {checkbox(\n          \"termsConditions\",\n          \"order.termAndConditions\",\n          process.env.REACT_APP_TERMS_AND_CONDITIONS_URL\n        )}\n        {checkbox(\n          \"exchangeRateTerms\",\n          \"order.exchangeRateTerms\",\n          process.env.REACT_APP_EXCHANGE_RATE_TERMS_URL\n        )}\n\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\">\n            {intl.formatMessage({ id: \"order.buyButton\" })}\n          </CustomButton>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default FormContainer(NewOrder);\n","export default \"data:image/png;base64,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\"","export const resetOrder = () => {\n  localStorage.clear();\n  window.location.reload();\n};\n\nexport const secondaryButtonClick = (e, confirmText) => {\n  e.preventDefault();\n  if (window.confirm(confirmText)) {\n    resetOrder();\n  }\n};\n","import React, { useReducer } from \"react\";\n\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport { useIntl } from \"react-intl\";\nimport { resetOrder } from \"../../util/util\";\n\nimport \"./payment-pending.styles.scss\";\nimport \"../form.styles.scss\";\n\nconst PaymentPending = ({ paymentUrl, bgnAmount }) => {\n  const [, forceUpdate] = useReducer((x) => (x === 0 ? x + 1 : x - 1), 0);\n\n  const intl = useIntl();\n\n  const payHere = () => {\n    window.open(paymentUrl, \"_blank\");\n    localStorage.setItem(\"new-order-button-visible\", true);\n    setTimeout(forceUpdate, 1000);\n  };\n\n  return (\n    <div className=\"form-container\">\n      <p>{intl.formatMessage({ id: \"payment.thankYou\" })}</p>\n      <div className=\"buttons\">\n        <CustomButton onClick={payHere}>\n          {intl.formatMessage({ id: \"payment.payHere\" }, { amount: bgnAmount })}\n        </CustomButton>\n        {localStorage.getItem(\"new-order-button-visible\") ? (\n          <CustomButton className=\"secondary-button\" onClick={resetOrder}>\n            {intl.formatMessage({ id: \"payment.newOrder\" })}\n          </CustomButton>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default PaymentPending;\n","import React, { useState, useEffect } from \"react\";\n\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport FormContainer from \"../form-container/form-container.component\";\n\nimport { verifyPhone, verifyPhoneCode } from \"../../api/buy-bch.api\";\n\nimport { useIntl } from \"react-intl\";\n\nimport { secondaryButtonClick } from \"../../util/util.js\";\n\nimport \"../form.styles.scss\";\n\nfunction PhoneVerification({ orderId, setOrder, setErrorMessage, setLoading }) {\n  const [phone, setPhone] = useState(\"\");\n  const [validationCode, setValidationCode] = useState(\"\");\n  const [codeSent, setCodeSent] = useState(false);\n\n  const intl = useIntl();\n\n  useEffect(() => {\n    let storedPhone = localStorage.getItem(\"phone\");\n    if (storedPhone) {\n      setPhone(storedPhone);\n      setCodeSent(true);\n    }\n  }, []);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setErrorMessage(\"\");\n    setLoading(true);\n    if (codeSent) {\n      const response = await verifyPhoneCode(orderId, phone, validationCode);\n      if (response.order) {\n        setOrder(response.order);\n        localStorage.removeItem(\"phone\");\n      } else if (response.errorId) {\n        setErrorMessage(response.errorId);\n        setLoading(false);\n      }\n    } else {\n      const response = await verifyPhone(orderId, phone);\n      if (response) {\n        setErrorMessage(response.errorId);\n      } else {\n        localStorage.setItem(\"phone\", phone);\n      }\n      setLoading(false);\n    }\n  };\n\n  const handlePhoneChange = (event) => {\n    setPhone(event.target.value);\n  };\n\n  const handleValidationCodeChange = (event) => {\n    setValidationCode(event.target.value);\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"phoneNumber\"\n          type=\"text\"\n          handleChange={handlePhoneChange}\n          value={phone}\n          label={intl.formatMessage({ id: \"phone.number\" })}\n          required\n        />\n        {codeSent ? (\n          <FormInput\n            name=\"validationCode\"\n            type=\"text\"\n            handleChange={handleValidationCodeChange}\n            value={validationCode}\n            label={intl.formatMessage({ id: \"phone.smsCode\" })}\n            required\n          />\n        ) : null}\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\">\n            {intl.formatMessage({ id: \"phone.submit\" })}\n          </CustomButton>\n          <CustomButton\n            className=\"secondary-button\"\n            onClick={(e) =>\n              secondaryButtonClick(\n                e,\n                intl.formatMessage({ id: \"currentOrder.confirmation\" })\n              )\n            }\n          >\n            {intl.formatMessage({ id: \"currentOrder.reset\" })}\n          </CustomButton>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default FormContainer(PhoneVerification);\n","import React, { useState } from \"react\";\n\nimport CustomButton from \"../custom-button/custom-button.component\";\nimport FormInput from \"../form-input/form-input.component\";\nimport FormContainer from \"../form-container/form-container.component\";\n\nimport { verifyPhoto } from \"../../api/buy-bch.api\";\nimport { secondaryButtonClick } from \"../../util/util.js\";\n\nimport { useIntl } from \"react-intl\";\n\nimport \"../form.styles.scss\";\nimport \"./photo-verification.styles.scss\";\n\nfunction PhotoVerification({\n  orderId,\n  setOrder,\n  photoSuffix,\n  declarationFormUrl,\n  setErrorMessage,\n  setLoading,\n}) {\n  const [photo, setPhoto] = useState(null);\n  const [key, setKey] = useState(0);\n\n  const intl = useIntl();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setErrorMessage(\"\");\n    setLoading(true);\n    const response = await verifyPhoto(orderId, photo, photoSuffix);\n    setLoading(false);\n    if (response.order) {\n      setPhoto(null);\n      setKey(key === 0 ? 1 + key : key - 1);\n      setOrder(response.order);\n    } else if (response.errorId) {\n      setErrorMessage(response.errorId);\n    }\n  };\n\n  const handleChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      let img = event.target.files[0];\n      setPhoto(img);\n    }\n  };\n\n  const photoMessageId = () => {\n    if (photoSuffix === \"id_photo\") {\n      return \"photo.typeId\";\n    } else if (photoSuffix === \"face_photo\") {\n      return \"photo.typeFace\";\n    } else if (photoSuffix === \"declaration_form\") {\n      return \"photo.typeDeclaration\";\n    }\n  };\n\n  return (\n    <div>\n      <p>{intl.formatMessage({ id: photoMessageId() })}</p>\n      <form onSubmit={handleSubmit}>\n        <FormInput\n          name=\"photo\"\n          type=\"file\"\n          handleChange={handleChange}\n          required\n          key={key}\n          accept=\"image/*\"\n        />\n        {photo ? (\n          <img alt=\"To upload\" src={URL.createObjectURL(photo)} />\n        ) : null}\n        {declarationFormUrl ? (\n          <p>\n            {intl.formatMessage(\n              {\n                id: \"photo.declarationUrl\",\n              },\n              {\n                a: (url) => <a href={declarationFormUrl}>{url}</a>,\n              }\n            )}\n          </p>\n        ) : null}\n        <div className=\"buttons\">\n          <CustomButton type=\"submit\">\n            {intl.formatMessage({ id: \"photo.upload\" })}\n          </CustomButton>\n          <CustomButton\n            className=\"secondary-button\"\n            onClick={(e) =>\n              secondaryButtonClick(\n                e,\n                intl.formatMessage({ id: \"currentOrder.confirmation\" })\n              )\n            }\n          >\n            {intl.formatMessage({ id: \"currentOrder.reset\" })}\n          </CustomButton>\n        </div>\n      </form>\n    </div>\n  );\n}\n\nexport default FormContainer(PhotoVerification);\n","import { useEffect, useState } from \"react\";\n\nimport { getOrder } from \"./api/buy-bch.api\";\n\nimport \"./App.scss\";\nimport Header from \"./components/header/header.component\";\nimport NewOrder from \"./components/new-order/new-order.component\";\nimport PaymentPending from \"./components/payment-pending/payment-pending.component\";\nimport PhoneVerification from \"./components/phone-verification/phone-verification.component\";\nimport PhotoVerification from \"./components/photo-verification/photo-verification.component\";\n\nfunction App() {\n  const [order, setOrder] = useState({});\n\n  useEffect(() => {\n    const orderId = localStorage.getItem(\"orderId\");\n    if (orderId) {\n      async function fetchOrder() {\n        const retrievedOrder = await getOrder(orderId);\n        setOrder(retrievedOrder);\n      }\n\n      fetchOrder();\n    }\n  }, []);\n\n  const renderSwitch = () => {\n    if (order[\"status\"] === \"pending_payment\") {\n      return (\n        <PaymentPending\n          paymentUrl={order[\"payment_url\"]}\n          bgnAmount={order[\"bgn_amount\"]}\n        />\n      );\n    }\n\n    if (order[\"status\"] === \"pending_id\") {\n      if (order[\"id_pending\"] === \"phone\") {\n        return (\n          <PhoneVerification\n            orderId={order[\"id\"]}\n            setOrder={setOrder}\n            bgnAmount={order[\"bgn_amount\"]}\n          />\n        );\n      } else if (\n        order[\"id_pending\"] === \"id_photo\" ||\n        order[\"id_pending\"] === \"face_photo\" ||\n        order[\"id_pending\"] === \"declaration_form\"\n      ) {\n        return (\n          <PhotoVerification\n            orderId={order[\"id\"]}\n            setOrder={setOrder}\n            photoSuffix={order[\"id_pending\"]}\n            declarationFormUrl={order[\"id_ext_url\"]}\n            bgnAmount={order[\"bgn_amount\"]}\n          />\n        );\n      }\n    }\n    return <NewOrder setOrder={setOrder} />;\n  };\n\n  return (\n    <div className=\"App\">\n      <Header />\n      <div className=\"contents\">{renderSwitch()}</div>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport IntlWrapper from \"./components/intl-wrapper/intl-wrapper.component\";\n\nReactDOM.render(\n  <IntlWrapper>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </IntlWrapper>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}